<!DOCTYPE html>
<html>
  <head>
    <link rel="shortcut icon" type="image/x-icon" href="logo.png" />
    <title>SH.M.T Mehmet Isai</title>
    <style>
   @import url('https://fonts.googleapis.com/css2?family=M+PLUS+Rounded+1c:wght@500;800&display=swap');
   @import url('https://fonts.googleapis.com/css2?family=M+PLUS+Rounded+1c:wght@500;800&family=Varela+Round&display=swap');
   @import url('https://fonts.googleapis.com/css2?family=Crete+Round:ital@1&display=swap');
   @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@600&display=swap');
   @import url('https://fonts.googleapis.com/css2?family=Noto+Sans:wght@600&display=swap');
      body {
        background-color: #020c29;
        overflow-x: hidden;
       overflow-y: hidden;
        margin:0;
        padding:0;
        height: 100vh;
  background: linear-gradient(to bottom, rgb(2, 39, 82), #061020);
      }


     .watermark {
     position: absolute;
     bottom: 55px;
     right: 9px;
     opacity: 0.07;
     color: white;
     font-family: 'Crete Round', serif;
     font-size: 12px;
    }

      .navbar {
        height: 57px;
        width: 100%;
        display:inline-flex;
        align-items: center;
        justify-content: center;
        font-size: 28px;
        color: white;
        background-color: #2256a3;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
        background: linear-gradient(to right, #173d75, #0b2142);
        border-radius: 5px;
      }
      .clock {
        font-family: 'Orbitron', sans-serif;
        color: white;
        opacity: 0.5;
        margin-top: 5%;
        margin-left: 2.5%;
        margin-bottom: -15px;
        font-size: 25px;
      }
      .navbar img {
        height: 50px;
        padding-right: 10px;
        display: flex;
     list-style: wrap;
     align-items: center;
      }
      .navbar span {
        font-family: 'M PLUS Rounded 1c', sans-serif;
      border: 1px white;
      padding-right: 3%;
      }

      .strings {
        color: white;
        margin: 10px;
        font-size: 22px;
        float: left;
      }
      ul {
        list-style-type: none;
        font-family: 'Noto Sans', sans-serif;
        opacity: 0.5;
        max-height: 700px;
      }

      .announcement {
        background-color: #2256a3;
        color: white;
        height: 50px;
        width: 100%;
        bottom: 0;
        position: fixed;
        text-align: center;
        font-size: 24px;
        background: linear-gradient(to right, #173d75, #0b2142);
        box-shadow: 0 -5px 5px rgba(0, 0, 0, 0.3);
        border-radius: 6px;
      }

      .announcement span {
        display: inline-block;
        white-space: nowrap;
        margin: auto;
        animation: moving-text 20s linear infinite;
        margin-top: 10px;
        font-family: 'Varela Round', sans-serif;

      }
      @keyframes moving-text {
        from {
          transform: translateX(250%);
        }
        to {
          transform: translateX(-275%);
        }
      }
    </style>
  </head>
  <body>
    <div class="navbar">
      <img src="logo.png" alt="logo">
      <span>Mehmet Isai</span>
    </div>
    <div class="clock" id="cl">
      1:28 PM | Ora 1,  Ndrrimi 2
    </div>
    <div class="strings">
    <ul id="list">
    </ul>
  </div>
    <div class="announcement">
      <span>Welcome to Mehmet Isai!</span>
    </div>
    <div class="watermark">Made by Korabi X/1</div>
  </body>
  <script>
    setInterval(() => {
      const ul = document.querySelector('ul');
const maxHeight = parseInt(window.getComputedStyle(ul).getPropertyValue('max-height'));

if (ul.scrollHeight > maxHeight) {
  const fontSize = parseInt(window.getComputedStyle(ul).getPropertyValue('font-size'));
  ul.style.fontSize = fontSize - 1 + 'px';
}
    }, 0.01);
    const profs = [
      "",
			"Afrim Rexhepi",
			"Agim Tahiri",
			"Agron Bislimi",
			"Ahmet Bilalli",
			"Anila Bajrami",
			"Arben Ramadani",
			"Arbër Shabani",
			"Arsim Duraku",
			"Artan Bajrami",
			"Astrit Korqa",
			"Bekim Beqiri",
			"Bekim Isufi",
			"Blerta Hoxha",
			"Bujar Kurteshi",
			"Burim Dërmaku",
			"Enver Xhymshiti",
			"Fahrije Srmaxhaj",
			"Fazli Srmaxhaj",
			"Feriz Trstena",
			"Flora Maliqi",
			"Florida Bunjaku",
			"Florim Bajrami",
			"Gani Krasniqi",
			"Hamide Ejupi",
			"Hata Shkodra",
			"Ibrahim Isufi",
			"Ibrahim Shkodra",
			"Ilir Elezi",
			"Ismail Shkodra",
			"Kaltrina Shala",
			"Labinota Shabiu",
			"Lulijeta Latifi",
			"Lulijeta Shkodra",
			"Lulzim Bajrami",
			"Lulzim Jahiu",
			"Magribe Neziri",
			"Mehmet Rapuca",
			"Gojarta Neziri",
			"Mehmet Shaqiri",
			"Mexhid Cani",
			"Minavere Berisha",
			"Muhamed Sadriu",
			"Mustafë Hoxha",
			"Nagip Krasniqi",
			"Naser Morina",
			"Nevzad Isufi",
			"Nexhmije Hajrullahu",
			"Rabije Demolli",
			"Sabedin Veseli",
			"Sadushe Agaj",
			"Sali Halili",
			"Sefer Kastrati",
			"Shqipe Aliu",
			"Shqipe Nahiu",
			"Vedat Kastrati",
			"Xhabir Ymeri",
			"Xhafer Xhelili",
			"Xhevahire Bislimi",
			"Xhevde Agaj",
			"Xhylferije Veliu",
			"Yllka Qerimi",
      "Faid Hoxha",
      "Naser Behluli",
      "Arton Mehmeti"
		]
    let data = {}
const list = document.getElementById("list")
const shifts = [{
        name: 'Ndërrimi 1',
        classes: [{
                startTime: '07:30',
                endTime: '08:15'
            },
            {
                startTime: '08:15',
                endTime: '9:00'
            },
            {
                startTime: '9:00',
                endTime: '9:45'
            },
            {
                startTime: '10:00',
                endTime: '10:45'
            },
            {
                startTime: '10:45',
                endTime: '11:30'
            },
            {
                startTime: '11:30',
                endTime: '12:15'
            },
            {
                startTime: '12:15',
                endTime: '12:55'
            }
        ],
        startTime: '07:30',
        endTime: '12:55'
    },
    {
        name: 'Ndërrimi 2',
        classes: [{
                startTime: '13:00',
                endTime: '13:45'
            },
            {
                startTime: '13:45',
                endTime: '14:30'
            },
            {
                startTime: '14:30',
                endTime: '15:15'
            },
            {
                startTime: '15:30',
                endTime: '16:15'
            },
            {
                startTime: '16:15',
                endTime: '17:00'
            },
            {
                startTime: '17:00',
                endTime: '17:45'
            },
            {
                startTime: '17:45',
                endTime: '18:30'
            }
        ],
        startTime: '13:00',
        endTime: '28:30'
    }
];

    data.one = {
      "10/1": {
            1: [17, 31, 1, 1, 61, 1, 61],
            2: [43, 30, 7, 31, 8, 7, 7],
            3: [34, 34, 60, 6, 17, 6, 0],
            4: [21, 21, 43, 46, 22, 58, 46],
            5: [17, 60, 46, 22, 1, 0, 0]
        },
        "10/2":  {
        1: [30,1,61,31,1,0,0],
        2: [6,6,8,7,7,60,31],
        3: [22,7,46,58,34,17,34],
        4: [43,43,46,17,21,21,61],
        5: [1,17,1,46,60,22,0]
      },
     "10/3": {
        1: [61,30,15,46,58,61,0],
        2: [58,38,60,44,44,44,44],
        3: [44,44,44,44,44,44,0],
        4: [12,38,44,44,15,17,60],
        5: [58,46,58,17,12,17,46]
      },
      "10/4": {
        1: [15,17,58,17,46,46,0],
        2: [3,3,3,3,3,3,0],
        3: [0,30,17,60,61,61,60],
        4: [44,44,15,54,11,11,11],
        5: [44,44,44,44,46,12,12]
      },
      "10/5": {
        1: [0,46,19,58,51,51,17],
        2: [51,51,51,51,51,51,0],
        3: [30,19,19,12,60,19,19],
        4: [38,12,61,29,17,46,0],
        5: [51,51,51,61,51,46,17]
      },
     "10/6": {
        1: [58,15,46,61,17,17,0],
        2: [42,42,42,42,42,42,0],
        3: [38,12,12,19,19,46,46],
        4: [9,9,54,15,54,15,15],
        5: [60,30,17,51,61,51,0],
      },
     "10/7": {
        1: ["26/55/64","26/55/64","26/55/64","26/55/64","26/55/64","26/55/64", 0],
        2: [30,58,48,60,48,0,0],
        3: [48,46,26,46,12,26,61],
        4: [29,46,38,56,40,40,40],
        5: [26,61,40,12,56,56,40]
      },
     "10/8": {
        1: [18,18,18,18,18,18,18],
        2: [55,47,38,48,60,48,19],
        3: [18,18,18,48,26,55,26],
        4: [47,13,47,13,61,12,12],
        5: [30, "40/62", 61, "40/62", 0]
      },
     "10/9": {
        1: [2,2,2,2,2,2,2],
        2: [13,55,47,13,13,13,48],
        3: [47,47,48,29,48,12,55],
        4: [0,30,12,38,60,13,13],
        5: [0,0,52,52,52,61,61]
      },
     "10/10": {
        1: [37,37,37,37,37,37,0],
        2: [47,35,58,38,37,37,37],
        3: [25,25,25,61,29,29,12],
        4: [30,47,29,58,12,61,17],
        5: [47,37,37,60,17,0,0]
      },
     "11/1": {
        1: [27,53,41,53,32,31,31],
        2: [5,7,6,10,10,8,8],
        3: [5,22,53,8,6,60,8],
        4: [41,58,41,1,1,1,22],
        5: [0,1,34,58,34,0,0]
      },
      "11/2": {
        1: [34,34,34,34,34,34,0],
        2: [34,34,34,22,22,24,53],
        3: [10,32,43,43,43,41,41],
        4: [0,10,31,31,53,53,44],
        5: [0,43,32,41,24,60,44],
        nd1: true
      },
     "11/3": {
        1: [31,58,53,32,31,53,10],
        2: [35,60,10,8,31,31,0],
        3: ["7/63",53,6,34,8,34,6],
        4: [58,24,58,24,59,22,0],
        5: [0,58,59,59,22,34,34]
      },
      "11/4": {
        1: ["11/63", "11/63",3,3,3,3,0],
        2: [0,0,43,43,53,53,10],
        3: [24,10,24,"11/63", "11/63", 53,48],
        4: ["7/63","7/63","7/63","7/63","7/63","7/63",7],
        5: [48,7,48,7,48,32,43],
        nd1: true
      },
      "11/5": {
        1: [0,19,51,51,53,32,53],
        2: [10,10,19,19,19,19,60],
        3: [53,57,22,57,57,57,57],
        4: [0,0,59,59,24,24,59],
        5: [57,57,57,57,57,57,57]
      },
      "11/6": {
        1: [59,59,15,59,15,19,19],
        2: [15,15,15,15,15,15,0],
        3: [15,15,15,51,53,10,10],
        4: [8,19,53,9,9,12],
        5: [0,24,24,32,54,54,0],
        nd1: true
      },
      "11/7": {
        1: [49,36,10,10,0,0,0],
        2: [24,14,14,14,14,14,14],
        3: [14,14,14,14,14,14,14],
        4: [32,59,24,22,14,14,14],
        5: [36,59,36,14,14,14,59]
      },
      "11/8" : {
        1: [0,0,59,8,59,13,13],
        2: [38,36,59, "40/62", 43,43, "40/62"],
        3: [0,24,10,10,18,39,43],
        4: [39,33,33,33,8, "18/62", "18/62"],
        5: [24, "18/62", 43,43,"18/62",48,36],
        nd1: true
      },
     "11/9": {
        1: [36,41,32,41,10,10,0],
        2: [0, "16/56/64","16/56/64","16/56/64","16/56/64","16/56/64","16/56/64",],
        3: [52,5,5,18,18,8,52],
        4: [36,41,40,60, "16/56/64","16/56/64","16/56/64"],
        5: [52,36,56,56,40,40,0]
      },
      "11/10": {
        1: [56,56,56,56,56,59,36],
        2: [59,59,36,5,5,10,0],
        3: [23,23,23,23,23,23,23],
        4: [10,8,36,26,26,26,26],
        5: [13,48,23,23,23,0,0],
        nd1: true
      },
     "11/11": {
        1: [13,13,36,36,33,33,33],
        2: [38,24,13,52,52,52,13],
        3: [0,52,52,52,52,52,0],
        4: [13,32,21,21,13,59,24],
        5: [0,52,60,36,59,59,22]
      },
      "11/12": {
        1: [0,0,5,5,8,36,29],
        2: [28,25,25,25,25,25,25],
        3: [32,37,37,37,37,48,25],
        4: [0,25,25,25,36,36,29],
        5: [25,25,25,48,28,37,48],
        nd1: true
      },
      "12/1" : {
        1: [8,8,4,50,49,0,0],
        2: [22,28,4,50,50,6,6],
        3: [35,35,35,1,1,22,34],
        4: [31,5,8,5,4,32],
        5: [0,31,31,28,31,58,58],
        nd1: true
      },
      "12/2": {
        1: [4,5,50,49,50,0,0],
        2: [0,22,5,27,27,27,27],
        3: [28,1,1,39,39,43,22],
        4: [27,27,27,27,27,27,28],
        5: [32,32,4,4,43,50,31],
        nd1: true
      },
      "12/3": {
        1: [27,27,27,27,27,27,0],
        2: [4,50,22,28,28, 22, 43],
        3: [39,43,32,49,32,1,5],
        4: [50,4,4,5,39,0,0],
        5: [27,27,27,27,50,31,1],
        nd1: true
      },
      "12/4": {
        1: [50,4,"11/63","11/63","11/63","11/63",5],
        2: ["11/63","11/63","11/63","11/63","11/63","11/63", 0],
        3: [11,"11/63",51,32,49,5,"7/63"],
        4: [0,0,50,39,51,39,51],
        5: [4,4,39,50,7,28,28],
        nd1: true
      },
      "12/5": {
        1: [0,50,8,4,33,5,33],
        2: [39,39,39,39,2,"40/62",5],
        3: [0,39,39,28,"40/62","40/62", 0],
        4: [4,39,39,50,28,8,4],
        5: [39,"18/62","18/62",2,2,50],
        nd1: true
      },
      "12/6": {
        1: [16,16,16,16,16,16,0],
        2: [50,4,50,4,40,5,13],
        3: [49,40,40,40,28,28,40],
        4: [0,31,5,4,50,33,13],
        5: ["16/64","16/64","16/64","16/64","16/64","16/64",0],
        nd1: true
      },
      "12/7": {
        1: [23,23,23,52,41,33,48],
        2: [0,20,2,2,20,47,47],
        3: [0,28,28,41,41,47,18],
        4: [23,23,23,23,23,23,23],
        5: [0,13,26,26,26,26,26],
        nd1: true
      },
      "12/8": {
        1: [45,45,45,45,45,45,0],
        2: [45,45,45,45,45,45,0],
        3: [0,41,41,47,51,51,51],
        4: [28,28,19,19,32,19,41],
        5: [20,54,54,20,47,47,52],
        nd1: true
      },
      "12/9": {
        1: [0,21,21,19,19,15,15],
        2: [54,54,54,54,54,54,0],
        3: [0,54,54,54,54,54,54],
        4: [19,36,32,36,19,41,19],
        5: [31,41,29,54,41,36,20],
        nd1: true
      },
      "12/10": {
        1: [52,52,49,21,21,41,41],
        2: [2,2,20,55,47,55,55],
        3: [2,2,2,2,2,2,38],
        4: [55,55,55,55,55,55,55],
        5: [0,0,0,47,20,41,47],
        nd1: true
      },
      "12/11": {
        1: [29,29,29,29,29,29,0],
        2: [0,29,29,29,29,29,29],
        3: [37,49,47,25,25,37,47],
        4: [25,50,28,28,25,32,47],
        5: [0,20,50,39,37,20,37],
        nd1: true
      }
    }

    setInterval(() => {
        function getNextDate(dayOfWeek, hour, minute, second = 0) {
            const now = new Date();
            let date = new Date(now);
            date.setDate(now.getDate() + (dayOfWeek + 7 - now.getDay()) % 7);
            date.setHours(hour, minute, second, 0);
            return date;
        }

        function getprof(day, hour, _class, sn) {
          let has = data.one[_class].nd1
          if(sn == "Ndërrimi 1" && !has) return [null,null];
          if(sn == "Ndërrimi 2" && has) return [null,null];
           let num = data.one[_class][day][hour- 1]
            if(typeof(num) == "string") {
              let hrs = num.split("/")
              let p1 = []
              hrs.forEach(h => {
                h = Number(h)
                p1.push(profs[h-1])
              })
              return [hrs, p1.join("/")]
            }
            if(!num) return [null,null]
            let pr = profs[num]
            return [num, pr]
        }
        let now = new Date();
      //  now = getNextDate(4, 13, 1, 0)
        const dayOfWeek = now.getDay();
        const time = now.toLocaleTimeString('en-US', {
            hour12: false
        });
        const currentShift = time >= shifts[0].startTime && time < shifts[1].startTime ? shifts[0] : shifts[1];
        const currentShiftName = currentShift.name;
        let currentClass = null;
        for (let i = 0; i < currentShift.classes.length; i++) {
            if (time >= currentShift.classes[i].startTime && time < currentShift.classes[i].endTime) {
                currentClass = i + 1;
                //break;
            }
        }
        let onbreak = false;
        const startTime = new Date(now);
        startTime.setHours(15, 10);
        const endTime = new Date(now);
        endTime.setHours(15, 30);
        if (now >= startTime && now < endTime) {
            onbreak = true
        }
        startTime.setHours(15, 10);
        endTime.setHours(15, 30);
        if (now >= startTime && now < endTime) {
            onbreak = true
        }

        const cl = document.getElementById("cl")
        const cts = now.toLocaleTimeString([], {
            hour: '2-digit',
            minute: '2-digit',
            hour12: true
        });
        if (now.getDay() != 0 && now.getDay() != 6) {
            if (onbreak) {
                cl.innerHTML = `${cts} | Pushim, ${currentShiftName}`
            } else {
                if (currentClass) {
                    cl.innerHTML = `${cts} | Ora ${currentClass}, ${currentShiftName}`
                } else {
                    cl.innerHTML = `${cts} | Mësimi Ka Mbaruar!`
                }
            }
        } else {
            cl.innerHTML = `${cts} | Sot nuk ka mësim!`
        }
        if (currentClass && !onbreak) {
            let str = ""
            Object.keys(data.one).forEach((key, index) => {
                let obj = data.one[key]
                let [prn, profname] = getprof(now.getDay(), currentClass, key, currentShiftName)
                if(!profname) return;
                str = str + `<li>${key} | ${profname}<li>\n`
            })
            list.innerHTML = str
        }
    }, 100);
    //-----------------------------------------------------------------------------------------------\\

    </script>
</html>
